# Generated by Django 5.2.1 on 2026-01-08 16:52

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("accounts", "0001_initial"),
        ("catalog", "0001_initial"),
        ("commerce", "0001_initial"),
        ("contacts", "0001_initial"),
        ("promotions", "0001_initial"),
        ("shipping", "0001_initial"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AddField(
            model_name="cart",
            name="coupon",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="commerce_carts",
                to="promotions.coupon",
            ),
        ),
        migrations.AddField(
            model_name="cart",
            name="user",
            field=models.OneToOneField(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="commerce_cart",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="abandonedcart",
            name="cart",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="abandoned_tracking",
                to="commerce.cart",
            ),
        ),
        migrations.AddField(
            model_name="cartanalytics",
            name="cart",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="analytics",
                to="commerce.cart",
            ),
        ),
        migrations.AddField(
            model_name="cartitem",
            name="cart",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="items",
                to="commerce.cart",
            ),
        ),
        migrations.AddField(
            model_name="cartitem",
            name="product",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="commerce_cart_items",
                to="catalog.product",
            ),
        ),
        migrations.AddField(
            model_name="cartitem",
            name="variant",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="commerce_cart_items",
                to="catalog.productvariant",
            ),
        ),
        migrations.AddField(
            model_name="checkoutsession",
            name="cart",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="checkout_sessions",
                to="commerce.cart",
            ),
        ),
        migrations.AddField(
            model_name="checkoutsession",
            name="coupon",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="commerce_checkout_sessions",
                to="promotions.coupon",
            ),
        ),
        migrations.AddField(
            model_name="checkoutsession",
            name="pickup_location",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="commerce_checkout_pickups",
                to="contacts.storelocation",
            ),
        ),
        migrations.AddField(
            model_name="checkoutsession",
            name="saved_billing_address",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="commerce_checkout_billing_uses",
                to="accounts.address",
            ),
        ),
        migrations.AddField(
            model_name="checkoutsession",
            name="saved_shipping_address",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="commerce_checkout_shipping_uses",
                to="accounts.address",
            ),
        ),
        migrations.AddField(
            model_name="checkoutsession",
            name="shipping_rate",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="commerce_checkout_sessions",
                to="shipping.shippingrate",
            ),
        ),
        migrations.AddField(
            model_name="checkoutsession",
            name="user",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="commerce_checkout_sessions",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="checkoutevent",
            name="checkout_session",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="events",
                to="commerce.checkoutsession",
            ),
        ),
        migrations.AddField(
            model_name="itemreservation",
            name="cart",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="reservations",
                to="commerce.cart",
            ),
        ),
        migrations.AddField(
            model_name="itemreservation",
            name="cart_item",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="reservation",
                to="commerce.cartitem",
            ),
        ),
        migrations.AddField(
            model_name="itemreservation",
            name="product",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="catalog.product"
            ),
        ),
        migrations.AddField(
            model_name="itemreservation",
            name="variant",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="catalog.productvariant",
            ),
        ),
        migrations.AddField(
            model_name="pricealert",
            name="product",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="price_alerts",
                to="catalog.product",
            ),
        ),
        migrations.AddField(
            model_name="pricealert",
            name="user",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="price_alerts",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="pricealert",
            name="variant",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="catalog.productvariant",
            ),
        ),
        migrations.AddField(
            model_name="savedforlater",
            name="product",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="saved_for_later_items",
                to="catalog.product",
            ),
        ),
        migrations.AddField(
            model_name="savedforlater",
            name="user",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="saved_for_later_items",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="savedforlater",
            name="variant",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="catalog.productvariant",
            ),
        ),
        migrations.AddField(
            model_name="sessionwishlistitem",
            name="product",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="catalog.product"
            ),
        ),
        migrations.AddField(
            model_name="sessionwishlistitem",
            name="variant",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="catalog.productvariant",
            ),
        ),
        migrations.AddField(
            model_name="sessionwishlistitem",
            name="wishlist",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="items",
                to="commerce.sessionwishlist",
            ),
        ),
        migrations.AddField(
            model_name="sharedcart",
            name="cart",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="shares",
                to="commerce.cart",
            ),
        ),
        migrations.AddField(
            model_name="sharedcart",
            name="created_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="created_shared_carts",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="wishlist",
            name="user",
            field=models.OneToOneField(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="commerce_wishlist",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="wishlistcollection",
            name="wishlist",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="collections",
                to="commerce.wishlist",
            ),
        ),
        migrations.AddField(
            model_name="wishlistcollectionitem",
            name="collection",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="items",
                to="commerce.wishlistcollection",
            ),
        ),
        migrations.AddField(
            model_name="wishlistitem",
            name="product",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="commerce_wishlist_items",
                to="catalog.product",
            ),
        ),
        migrations.AddField(
            model_name="wishlistitem",
            name="variant",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="commerce_wishlist_items",
                to="catalog.productvariant",
            ),
        ),
        migrations.AddField(
            model_name="wishlistitem",
            name="wishlist",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="items",
                to="commerce.wishlist",
            ),
        ),
        migrations.AddField(
            model_name="wishlistcollectionitem",
            name="wishlist_item",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="collection_memberships",
                to="commerce.wishlistitem",
            ),
        ),
        migrations.AddField(
            model_name="wishlistshare",
            name="wishlist",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="shares",
                to="commerce.wishlist",
            ),
        ),
        migrations.AddIndex(
            model_name="cart",
            index=models.Index(fields=["user"], name="commerce_ca_user_id_00621f_idx"),
        ),
        migrations.AddIndex(
            model_name="cart",
            index=models.Index(
                fields=["session_key"], name="commerce_ca_session_d85d16_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="cart",
            index=models.Index(
                fields=["updated_at"], name="commerce_ca_updated_e95b75_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="abandonedcart",
            index=models.Index(
                fields=["status", "next_reminder_at"],
                name="commerce_ab_status_95a541_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="abandonedcart",
            index=models.Index(
                fields=["email", "status"], name="commerce_ab_email_aa5c3e_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="cartitem",
            unique_together={("cart", "product", "variant")},
        ),
        migrations.AddIndex(
            model_name="checkoutsession",
            index=models.Index(
                fields=["user", "current_step"], name="commerce_ch_user_id_051245_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="checkoutsession",
            index=models.Index(
                fields=["session_key"], name="commerce_ch_session_638d88_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="checkoutsession",
            index=models.Index(
                fields=["expires_at"], name="commerce_ch_expires_1b0386_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="checkoutsession",
            index=models.Index(
                fields=["current_step", "created_at"],
                name="commerce_ch_current_2b87ed_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="itemreservation",
            index=models.Index(
                fields=["product", "is_active", "expires_at"],
                name="commerce_it_product_b9e495_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="itemreservation",
            index=models.Index(
                fields=["expires_at", "is_active"],
                name="commerce_it_expires_614b30_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="pricealert",
            index=models.Index(
                fields=["product", "is_active"], name="commerce_pr_product_d167a2_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="pricealert",
            index=models.Index(
                fields=["user", "is_active"], name="commerce_pr_user_id_1df2de_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="savedforlater",
            index=models.Index(
                fields=["user", "saved_at"], name="commerce_sa_user_id_fdd9a3_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="savedforlater",
            index=models.Index(
                fields=["session_key"], name="commerce_sa_session_a6b76b_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="sessionwishlistitem",
            unique_together={("wishlist", "product", "variant")},
        ),
        migrations.AlterUniqueTogether(
            name="wishlistcollection",
            unique_together={("wishlist", "name")},
        ),
        migrations.AlterUniqueTogether(
            name="wishlistitem",
            unique_together={("wishlist", "product", "variant")},
        ),
        migrations.AlterUniqueTogether(
            name="wishlistcollectionitem",
            unique_together={("collection", "wishlist_item")},
        ),
    ]
