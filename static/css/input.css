/**
 * Bunoraa - Main Stylesheet
 * 
 * This file contains all custom styles for the Bunoraa e-commerce platform.
 * Uses Tailwind CSS with custom configurations.
 * 
 * Sections:
 * 1. Tailwind Directives
 * 2. CSS Custom Properties (Theme Variables)
 * 3. Base Styles
 * 4. Component Styles
 * 5. Utility Styles
 * 6. Animations
 * 7. Dark Mode Overrides
 */

/* ============================================
   1. TAILWIND DIRECTIVES
   ============================================ */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   2. CSS CUSTOM PROPERTIES (THEME VARIABLES)
   ============================================ */
@layer base {
    :root {
        /* Background colors - Pure white for light mode */
        --color-bg-primary: 255 255 255;       /* #ffffff - Pure white */
        --color-bg-secondary: 250 250 249;     /* #fafaf9 - stone-50 */
        --color-bg-tertiary: 245 245 244;      /* #f5f5f4 - stone-100 */
        --color-bg-muted: 231 229 228;         /* #e7e5e4 - stone-200 */
        
        /* Text colors */
        --color-text-primary: 28 25 23;        /* #1c1917 - stone-900 */
        --color-text-secondary: 87 83 78;      /* #57534e - stone-600 */
        --color-text-muted: 120 113 108;       /* #78716c - stone-500 */
        --color-text-inverse: 255 255 255;     /* #ffffff */
        
        /* Border colors */
        --color-border: 231 229 228;           /* #e7e5e4 - stone-200 */
        --color-border-muted: 245 245 244;     /* #f5f5f4 - stone-100 */
        
        /* Focus ring */
        --color-focus-ring: 245 158 11;        /* #f59e0b - amber-500 */
        --color-focus-offset: 255 255 255;     /* #ffffff */
        
        /* Card/Surface */
        --color-card: 255 255 255;             /* #ffffff */
        --color-card-elevated: 255 255 255;    /* #ffffff */
        
        /* Shadows */
        --shadow-color: 0 0 0;
    }
    
    .dark {
        /* Background colors - Pure black for dark mode */
        --color-bg-primary: 0 0 0;             /* #000000 - Pure black */
        --color-bg-secondary: 12 10 9;         /* #0c0a09 - stone-950 */
        --color-bg-tertiary: 28 25 23;         /* #1c1917 - stone-900 */
        --color-bg-muted: 41 37 36;            /* #292524 - stone-800 */
        
        /* Text colors */
        --color-text-primary: 250 250 249;     /* #fafaf9 - stone-50 */
        --color-text-secondary: 214 211 209;   /* #d6d3d1 - stone-300 */
        --color-text-muted: 168 162 158;       /* #a8a29e - stone-400 */
        --color-text-inverse: 0 0 0;           /* #000000 */
        
        /* Border colors */
        --color-border: 41 37 36;              /* #292524 - stone-800 */
        --color-border-muted: 28 25 23;        /* #1c1917 - stone-900 */
        
        /* Focus ring */
        --color-focus-ring: 251 191 36;        /* #fbbf24 - amber-400 */
        --color-focus-offset: 0 0 0;           /* #000000 */
        
        /* Card/Surface */
        --color-card: 12 10 9;                 /* #0c0a09 - stone-950 */
        --color-card-elevated: 28 25 23;       /* #1c1917 - stone-900 */
        
        /* Shadows - invisible in dark mode */
        --shadow-color: 0 0 0;
    }
}

/* ============================================
   3. BASE STYLES
   ============================================ */
@layer base {
    html {
        scroll-behavior: smooth;
        -webkit-tap-highlight-color: transparent;
        font-size: 15px;
    }
    
    body {
        @apply font-sans antialiased;
        min-height: 100vh;
        background-color: rgb(var(--color-bg-primary));
        color: rgb(var(--color-text-primary));
    }
    
    /* ----- Focus States ----- */
    *:focus {
        outline: none;
    }
    
    button:focus-visible,
    a:focus-visible,
    input:focus-visible,
    select:focus-visible,
    textarea:focus-visible,
    [role="button"]:focus-visible {
        box-shadow: 0 0 0 3px rgb(var(--color-focus-ring) / 0.6),
                    0 0 0 6px rgb(var(--color-focus-offset) / 0.4);
        outline: none;
        border-radius: inherit;
    }
    
    /* Touch devices: avoid persistent focus rings */
    @media (hover: none) and (pointer: coarse) {
        button:focus, button:active,
        a:focus, a:active,
        [role="button"]:focus, [role="button"]:active {
            outline: none !important;
            box-shadow: none !important;
        }
        
        button:active, a:active, [role="button"]:active {
            background-color: rgba(0, 0, 0, 0.03);
        }
        
        .dark button:active, .dark a:active, .dark [role="button"]:active {
            background-color: rgba(255, 255, 255, 0.05);
        }
    }
    
    /* ----- Typography ----- */
    h1, h2, h3, h4, h5, h6 {
        @apply font-display font-bold;
        color: rgb(var(--color-text-primary));
    }
    
    /* Mobile typography */
    @media (max-width: 640px) {
        html { font-size: 14px; }
        
        .product-card { font-size: 0.85rem; }
        .product-card h3 { font-size: 0.95rem; line-height: 1.15; }
        .product-card p, .product-card .text-sm { font-size: 0.75rem; }
        .product-card .text-lg { font-size: 1rem; }
        .product-card .p-4 { padding: 0.75rem; }
        .product-card.flex .w-48 { width: 8rem; min-width: 8rem; }
        
        h1 { font-size: 1.5rem; }
        h2 { font-size: 1.125rem; }
    }
    
    /* ----- Links ----- */
    a {
        color: rgb(var(--color-text-primary));
        text-decoration: none !important;
        position: relative;
        transition: color 0.2s;
        cursor: pointer;
    }
    
    /* Remove decorative underline animation globally (disable pseudo-element) */
    a::after {
        display: none !important;
        content: none !important;
    }
    
    /* Ensure no underline even when utility classes add it (e.g., hover:underline) */
    a, a:hover, a:focus, a:active, a:visited {
        text-decoration: none !important;
    }
    
    a:hover {
        @apply text-amber-700;
    }
    
    .dark a:hover {
        @apply text-amber-400;
    }
    
    /* ----- Images ----- */
    img {
        @apply max-w-full h-auto;
    }

    /* Modern image optimization */
    picture {
        display: block;
    }

    /* WebP/AVIF support with fallbacks */
    .optimized-image {
        background: linear-gradient(45deg, #f0f0f0 25%, transparent 25%),
                    linear-gradient(-45deg, #f0f0f0 25%, transparent 25%),
                    linear-gradient(45deg, transparent 75%, #f0f0f0 75%),
                    linear-gradient(-45deg, transparent 75%, #f0f0f0 75%);
        background-size: 20px 20px;
        background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        animation: shimmer 1.5s infinite linear;
    }

    @supports (aspect-ratio: 1) {
        .optimized-image {
            aspect-ratio: var(--aspect-ratio, 1);
        }
    }
    
    /* ----- Tables ----- */
    table {
        @apply w-full text-left table-auto border-collapse;
    }
    
    thead {
        background-color: rgb(var(--color-bg-tertiary));
    }
    
    tbody {
        @apply divide-y;
        border-color: rgb(var(--color-border));
    }
    
    th {
        @apply px-6 py-3 text-left text-sm font-semibold;
        color: rgb(var(--color-text-primary));
    }
    
    td {
        @apply px-6 py-3 text-sm;
        color: rgb(var(--color-text-secondary));
    }
    
    /* ----- Form Elements ----- */
    input, textarea, select {
        @apply w-full rounded-xl px-4 py-3 transition-all duration-200;
        background-color: rgb(var(--color-bg-primary));
        border: 1px solid rgb(var(--color-border));
        color: rgb(var(--color-text-primary));
    }
    
    input::placeholder, textarea::placeholder {
        color: rgb(var(--color-text-muted));
    }
    
    input:focus, textarea:focus, select:focus {
        @apply border-amber-500 ring-4 ring-amber-500/20;
    }
    
    .dark input:focus, .dark textarea:focus, .dark select:focus {
        @apply border-amber-400 ring-amber-400/20;
    }
    
    button {
        @apply cursor-pointer transition-all duration-200;
    }
}

/* ============================================
   4. COMPONENT STYLES
   ============================================ */
@layer components {
    /* ----- Container ----- */
    .container-fluid {
        @apply w-full px-4 sm:px-6 lg:px-8;
    }
    
    .container {
        @apply mx-auto w-full max-w-[1920px] px-4 sm:px-6 lg:px-8;
    }
    
    /* ----- Buttons ----- */
    .btn {
        @apply inline-flex items-center justify-center gap-2 px-6 py-3 
               font-semibold rounded-xl transition-all duration-200
               disabled:opacity-50 disabled:cursor-not-allowed;
    }
    
    .btn-primary {
        @apply btn bg-amber-600 text-white hover:bg-amber-700 
               shadow-lg shadow-amber-600/25 hover:shadow-xl hover:shadow-amber-600/30;
    }
    
    .btn-secondary {
        @apply btn bg-stone-100 text-stone-800 hover:bg-stone-200
               dark:bg-stone-800 dark:text-stone-100 dark:hover:bg-stone-700;
    }
    
    .btn-outline {
        @apply btn border-2 border-amber-600 text-amber-600 
               hover:bg-amber-600 hover:text-white
               dark:border-amber-400 dark:text-amber-400 
               dark:hover:bg-amber-400 dark:hover:text-black;
    }
    
    .btn-ghost {
        @apply btn text-stone-600 hover:bg-stone-100 hover:text-stone-900
               dark:text-stone-300 dark:hover:bg-stone-800 dark:hover:text-stone-100;
    }
    
    .btn-sm { @apply px-4 py-2 text-sm; }
    .btn-lg { @apply px-8 py-4 text-lg; }
    
    /* ----- Cards ----- */
    .card {
        @apply rounded-2xl shadow-sm hover:shadow-lg transition-shadow duration-300 overflow-hidden;
        background-color: rgb(var(--color-card));
        border: 1px solid rgb(var(--color-border));
    }
    
    .dark .card {
        @apply shadow-none;
    }
    
    /* Product cards: square corners */
    .product-card {
        @apply rounded-none;
        border-radius: 0 !important;
    }
    
    .product-card img,
    .product-card .skeleton {
        @apply rounded-none;
        border-radius: 0 !important;
    }
    
    /* Lookbook cards */
    .lookbook-card {
        @apply bg-stone-50 dark:bg-stone-900 border border-stone-200 dark:border-stone-800;
    }
    .lookbook-title { @apply text-stone-900 dark:text-white; }
    .lookbook-meta { @apply text-stone-600 dark:text-stone-400; }
    
    /* ----- Badges ----- */
    .badge {
        @apply inline-flex items-center px-2.5 py-1 text-xs font-semibold rounded-full;
    }
    
    .badge-primary { @apply bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400; }
    .badge-success { @apply bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400; }
    .badge-danger { @apply bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400; }
    .badge-info { @apply bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400; }
    
    /* ----- Wishlist Button ----- */
    .wishlist-btn .heart-fill {
        @apply transition-colors duration-150;
    }
    
    .wishlist-btn:hover .heart-fill {
        color: rgb(255, 0, 0); /* red-600 */
    }
    
    .dark .wishlist-btn:hover .heart-fill {
        color: rgb(255, 0, 0); /* red-400 */
    }
    
    /* ----- Form Groups ----- */
    .form-group { @apply mb-6; }
    .form-label { 
        @apply block text-sm font-medium mb-2;
        color: rgb(var(--color-text-secondary));
    }
    .form-error { @apply text-sm text-red-600 dark:text-red-400 mt-1; }
    
    /* ----- Skeleton Loading ----- */
    .skeleton {
        @apply animate-pulse rounded;
        background-color: rgb(var(--color-bg-muted));
    }
    
    /* ----- Dropdown Menu ----- */
    .dropdown-menu {
        @apply absolute z-50 rounded-xl shadow-xl py-2 min-w-[160px] 
               opacity-0 transform scale-95 transition-all duration-200 origin-top-right;
        background-color: rgb(var(--color-card));
        border: 1px solid rgb(var(--color-border));
    }
    
    .dropdown-menu.open {
        @apply opacity-100 scale-100;
    }
    
    .dropdown-item {
        @apply flex items-center gap-3 px-4 py-2.5 transition-colors;
        color: rgb(var(--color-text-secondary));
    }
    
    .dropdown-item:hover {
        @apply bg-amber-50 text-amber-700 dark:bg-amber-900/20 dark:text-amber-400;
    }
    
    /* ----- Modal ----- */
    .modal-overlay {
        @apply fixed inset-0 bg-black/60 backdrop-blur-sm z-50;
    }
    
    .modal-content {
        @apply rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto;
        background-color: rgb(var(--color-card));
        color: rgb(var(--color-text-primary));
    }
    
    .dark .modal-content { @apply shadow-none; }
    
    /* Quick View Modal */
    .quick-view-modal {
        @apply fixed inset-0 z-50 flex items-center justify-center p-4;
    }
    
    .quick-view-content {
        @apply rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] 
               overflow-y-auto transform transition-all duration-300;
        background-color: rgb(var(--color-card));
    }
    
    /* ----- Product Actions ----- */
    .product-actions {
        @apply absolute flex flex-col gap-2 
               opacity-0 group-hover:opacity-100 
               transition-all duration-300;
    }
    
    .product-action-btn {
        @apply p-2.5 rounded-full shadow-lg flex-none 
               hover:scale-110 transition-all duration-200;
        background-color: rgb(var(--color-card));
    }
    
    .product-action-btn:hover {
        @apply bg-amber-50 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400;
    }
    
    @media (max-width: 640px) {
        .product-action-btn {
            @apply p-3.5;
            min-width: 44px;
            min-height: 44px;
        }
        .product-card .mobile-actions { display: flex; }
        .product-card .overlay-actions { display: none; }
    }
    
    /* ----- Hero Slider Controls ----- */
    .hero-prev,
    .hero-next {
        background-color: rgb(var(--color-card) / 0.9);
        color: rgb(var(--color-text-primary));
    }
    
    .hero-prev:focus-visible,
    .hero-next:focus-visible {
        outline: 2px solid rgb(var(--color-focus-ring));
        outline-offset: 2px;
    }
    
    .hero-dots button {
        background-color: rgb(var(--color-bg-muted));
    }
    
    /* ----- Search Form ----- */
    #search-form.collapsed input[type="search"],
    #search-form.collapsed #search-suggestions {
        display: none;
    }
    
    /* ----- Header Collapse ----- */
    #main-header {
        @apply transition-all duration-500 ease-out;
    }
    
    nav[data-main-nav] {
        @apply transition-all duration-500 ease-in-out will-change-transform;
        max-height: 100px;
        opacity: 1;
    }
    
    #main-header.header-collapsed nav[data-main-nav] {
        @apply hidden opacity-0;
        max-height: 0;
        overflow: hidden;
    }
    
    /* ----- Toast Notifications (Compact) ----- */
    .toast-container { gap: 0.375rem; }
    .toast { padding: 0.375rem 0.5rem; gap: 0.375rem; }
    .toast-icon { width: 0.875rem; height: 0.875rem; }
    .toast-title { font-size: 0.75rem; line-height: 1; margin-bottom: 0.0625rem; }
    .toast-message { font-size: 0.6875rem; line-height: 1; }
}

/* ============================================
   5. UTILITY STYLES
   ============================================ */
@layer utilities {
    /* Text Selection */
    .selection-amber::selection {
        @apply bg-amber-200 text-amber-900;
    }
    
    /* Aspect Ratios */
    .aspect-product { aspect-ratio: 3/4; }
    .aspect-banner { aspect-ratio: 21/9; }
    
    /* Safe Area Insets */
    .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
    .pt-safe { padding-top: env(safe-area-inset-top); }
    
    /* Gradient Text */
    .text-gradient {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-amber-600 to-orange-500;
    }
    
    /* Theme-aware surface */
    .surface {
        background-color: rgb(var(--color-bg-primary));
        color: rgb(var(--color-text-primary));
    }
    
    .surface-elevated {
        background-color: rgb(var(--color-card-elevated));
        color: rgb(var(--color-text-primary));
    }
    
    /* Scrollbar */
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
    
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }
    
    .custom-scrollbar::-webkit-scrollbar { @apply w-2; }
    .custom-scrollbar::-webkit-scrollbar-track { 
        background-color: rgb(var(--color-bg-tertiary));
        @apply rounded-full;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb { 
        background-color: rgb(var(--color-border));
        @apply rounded-full;
    }
    
    /* Line Clamp */
    .line-clamp-1, .line-clamp-2, .line-clamp-3 {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    .line-clamp-1 { -webkit-line-clamp: 1; }
    .line-clamp-2 { -webkit-line-clamp: 2; }
    .line-clamp-3 { -webkit-line-clamp: 3; }
}

/* ============================================
   6. ANIMATIONS
   ============================================ */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes scaleIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
}

@keyframes bounceSubtle {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}

@keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

.shimmer {
    background: linear-gradient(90deg, 
        rgb(var(--color-bg-muted)) 25%, 
        rgb(var(--color-bg-tertiary)) 50%, 
        rgb(var(--color-bg-muted)) 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
}

.page-enter { animation: fadeIn 0.3s ease-out; }

/* ============================================
   7. MEGA MENU STYLES
   ============================================ */
@layer components {
    .mega-panel {
        @apply transform transition-all duration-300 ease-out;
        animation: megaPanelOpen 0.25s ease-out forwards;
        transform-origin: top center;
    }
    
    .mega-panel.hidden {
        animation: none;
        opacity: 0;
        transform: translateY(-10px) scale(0.98);
    }
    
    @keyframes megaPanelOpen {
        0% { opacity: 0; transform: translateX(-50%) translateY(-10px) scale(0.98); }
        100% { opacity: 1; transform: translateX(-50%) translateY(0) scale(1); }
    }
    
    /* Header Category Links */
    #header-categories li[data-cat-id] > a {
        @apply relative overflow-hidden;
    }
    
    #header-categories li[data-cat-id] > a::before {
        content: '';
        @apply absolute bottom-0 left-1/2 w-0 h-0.5 bg-amber-600 transition-all duration-300;
        transform: translateX(-50%);
    }
    
    #header-categories li[data-cat-id]:hover > a::before,
    #header-categories li[data-cat-id]:focus-within > a::before {
        @apply w-4/5;
    }
    
    #header-categories li[data-cat-id].active > a {
        @apply text-amber-700 bg-amber-50 dark:text-amber-300 dark:bg-amber-900/30;
    }
    
    /* Subcategory Hover Effects */
    .mega-panel a { @apply relative transition-all duration-200; }
    .mega-panel a:hover { @apply -translate-y-0.5; }
    .mega-panel .w-12.h-12 { @apply transition-transform duration-300; }
    .mega-panel a:hover .w-12.h-12 { @apply scale-105 shadow-md; }
    
    /* Grandchildren Links */
    .mega-panel ul a {
        @apply relative pl-3 transition-all duration-200;
    }
    
    .mega-panel ul a::before {
        content: '';
        @apply absolute left-0 top-1/2 w-1.5 h-1.5 rounded-full transition-colors duration-200;
        background-color: rgb(var(--color-border));
        transform: translateY(-50%);
    }
    
    .mega-panel ul a:hover::before {
        @apply bg-amber-500;
    }
    
    .mega-panel .animate-spin {
        @apply border-4;
        border-color: rgb(var(--color-border));
        border-top-color: #f59e0b;
    }
}

/* ============================================
   8. MOBILE MENU STYLES
   ============================================ */
@layer components {
    [data-mobile-menu] {
        @apply transition-opacity duration-300;
    }
    
    [data-mobile-menu]:not(.hidden) {
        animation: fadeIn 0.2s ease-out forwards;
    }
    
    [data-mobile-menu] > div:nth-child(2) {
        @apply transform transition-transform duration-300 ease-out;
        animation: slideInLeft 0.3s ease-out forwards;
    }
    
    @keyframes slideInLeft {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(0); }
    }
    
    /* Mobile Category Accordion */
    #mobile-nav details {
        border-bottom: 1px solid rgb(var(--color-border));
        @apply transition-colors duration-200;
    }
    
    #mobile-nav details[open] {
        @apply bg-amber-50/50 dark:bg-amber-900/10;
    }
    
    #mobile-nav summary {
        @apply cursor-pointer list-none py-3 px-2 flex items-center justify-between 
               font-medium hover:text-amber-700 dark:hover:text-amber-400 
               transition-colors duration-200 rounded-lg;
        color: rgb(var(--color-text-secondary));
    }
    
    #mobile-nav summary::-webkit-details-marker { display: none; }
    
    #mobile-nav summary::after {
        content: '';
        @apply w-4 h-4 transition-transform duration-300;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23a8a29e' stroke-width='2'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E");
        background-size: contain;
        background-repeat: no-repeat;
    }
    
    #mobile-nav details[open] > summary::after {
        transform: rotate(180deg);
    }
    
    #mobile-nav details > div {
        @apply pl-4 pb-2 space-y-1;
        animation: expandDown 0.2s ease-out forwards;
    }
    
    @keyframes expandDown {
        0% { opacity: 0; max-height: 0; }
        100% { opacity: 1; max-height: 1000px; }
    }
    
    #mobile-nav details > div > a,
    #mobile-nav details > div > button {
        @apply block py-2 px-3 text-sm rounded-lg 
               hover:bg-amber-50 dark:hover:bg-amber-900/20 
               hover:text-amber-700 dark:hover:text-amber-400 
               transition-all duration-200;
        color: rgb(var(--color-text-muted));
    }
    
    /* Mobile Quick Links */
    [data-mobile-menu] .space-y-1 a {
        @apply active:scale-[0.98] transition-transform duration-150;
    }
    
    /* Mobile Account Section */
    #mobile-account {
        @apply bg-gradient-to-t from-stone-100 to-stone-50 
               dark:from-stone-900 dark:to-stone-800;
    }
    
    #mobile-account a {
        @apply flex items-center gap-3 py-2.5 px-3 rounded-xl 
               hover:bg-white dark:hover:bg-stone-700 
               transition-all duration-200 font-medium;
        color: rgb(var(--color-text-secondary));
    }
    
    /* Mobile Badge */
    [data-mobile-menu] .badge { @apply animate-pulse; }
}

/* ============================================
   9. CHAT WIDGET STYLES
   ============================================ */
@layer components {
    #chat-toggle {
        @apply relative;
    }
    
    #chat-toggle::before {
        content: '';
        @apply absolute inset-0 rounded-full bg-primary-500/30 animate-ping;
        animation-duration: 2s;
        animation-iteration-count: 3;
    }
    
    #chat-toggle.has-unread::after {
        content: '';
        @apply absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2;
        border-color: rgb(var(--color-bg-primary));
        animation: bounce 1s infinite;
    }
    
    #chat-window {
        @apply transition-all duration-300 ease-out;
    }
    
    #chat-window:not(.hidden) {
        animation: chatWindowOpen 0.3s ease-out forwards;
    }
    
    @keyframes chatWindowOpen {
        0% { opacity: 0; transform: scale(0.9) translateY(10px); }
        100% { opacity: 1; transform: scale(1) translateY(0); }
    }
    
    .chat-message {
        animation: messageSlide 0.3s ease-out forwards;
    }
    
    @keyframes messageSlide {
        0% { opacity: 0; transform: translateY(10px); }
        100% { opacity: 1; transform: translateY(0); }
    }
    
    .typing-indicator span {
        @apply inline-block w-2 h-2 rounded-full mx-0.5;
        background-color: rgb(var(--color-text-muted));
        animation: typingBounce 1.4s infinite ease-in-out;
    }
    
    .typing-indicator span:nth-child(1) { animation-delay: 0s; }
    .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
    .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
    
    @keyframes typingBounce {
        0%, 80%, 100% { transform: translateY(0); }
        40% { transform: translateY(-6px); }
    }
}

/* ============================================
   10. NOTIFICATION CENTER STYLES
   ============================================ */
@layer components {
    .notification-bell { @apply relative; }
    
    .notification-bell.has-unread::before {
        content: '';
        @apply absolute inset-0 rounded-full;
        animation: bellRing 0.5s ease-in-out;
    }
    
    @keyframes bellRing {
        0%, 100% { transform: rotate(0); }
        20% { transform: rotate(15deg); }
        40% { transform: rotate(-10deg); }
        60% { transform: rotate(5deg); }
        80% { transform: rotate(-5deg); }
    }
    
    #notification-panel {
        animation: dropdownOpen 0.2s ease-out forwards;
    }
    
    @keyframes dropdownOpen {
        0% { opacity: 0; transform: translateY(-10px) scale(0.95); }
        100% { opacity: 1; transform: translateY(0) scale(1); }
    }
    
    .notification-item {
        @apply transition-all duration-200;
    }
    
    .notification-item:hover {
        background-color: rgb(var(--color-bg-secondary));
    }
    
    .notification-item.unread {
        @apply bg-amber-50/50 dark:bg-amber-900/10 border-l-2 border-amber-500;
    }
    
    .notification-item.unread:hover {
        @apply bg-amber-50 dark:bg-amber-900/20;
    }
}

/* ============================================
   11. LOADING SCREEN STYLES
   ============================================ */
@layer components {
    #loading-screen {
        @apply transition-opacity duration-500;
    }
    
    #loading-screen.fade-out {
        @apply opacity-0 pointer-events-none;
    }
    
    .loading-logo {
        animation: logoFloat 2s ease-in-out infinite;
    }
    
    @keyframes logoFloat {
        0%, 100% { transform: translateY(0) scale(1); }
        50% { transform: translateY(-10px) scale(1.02); }
    }
    
    .loading-dots span {
        @apply inline-block w-3 h-3 bg-amber-500 rounded-full mx-1;
        animation: loadingDot 1.4s infinite ease-in-out;
    }
    
    .loading-dots span:nth-child(1) { animation-delay: 0s; }
    .loading-dots span:nth-child(2) { animation-delay: 0.2s; }
    .loading-dots span:nth-child(3) { animation-delay: 0.4s; }
    
    @keyframes loadingDot {
        0%, 80%, 100% { transform: scale(0.6); opacity: 0.5; }
        40% { transform: scale(1); opacity: 1; }
    }
}
